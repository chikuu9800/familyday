{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./css/Carousel.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Carousel=_ref=>{let{questions}=_ref;const[currentIndex,setCurrentIndex]=useState(0);const[score,setScore]=useState(0);const navigate=useNavigate();const goToPrev=()=>{setCurrentIndex(prevIndex=>prevIndex===0?questions.length-1:prevIndex-1);};const goToNext=()=>{if(currentIndex===questions.length-1){navigate(\"/final\");// Redirect to final score page\n}else{setCurrentIndex(prevIndex=>prevIndex+1);}};const handleOptionClick=optionIndex=>{const selectedOption=questions[currentIndex].options[optionIndex];let optionScore=0;// Calculate score based on the selected option\nif(selectedOption.type==='yesno'){optionScore=selectedOption.text==='Yes'?2:0;}else if(selectedOption.type==='radio'){const value=parseInt(selectedOption.text);optionScore=value>=0&&value<=3?1:2;}setScore(prevScore=>prevScore+optionScore);// Proceed to the next question\ndocument.cookie=\"score=\".concat(score);goToNext();};useEffect(()=>{if(currentIndex===questions.length){navigate(\"/final\");}},[currentIndex,questions.length]);return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"prev\",onClick:goToPrev,children:\"<\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:questions[currentIndex].questionText}),/*#__PURE__*/_jsx(\"div\",{className:\"options\",children:questions[currentIndex].options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"option_\".concat(index),name:\"question_\".concat(currentIndex),value:option.text,onClick:()=>handleOptionClick(index)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"option_\".concat(index),children:option.text})]},index))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:goToNext,children:\">\"})]});};export default Carousel;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Carousel","_ref","questions","currentIndex","setCurrentIndex","score","setScore","navigate","goToPrev","prevIndex","length","goToNext","handleOptionClick","optionIndex","selectedOption","options","optionScore","type","text","value","parseInt","prevScore","document","cookie","concat","className","children","onClick","questionText","map","option","index","id","name","htmlFor"],"sources":["C:/Users/ADMIN/Desktop/shailesh da/familyday/src/components/Carousel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './css/Carousel.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Carousel = ({ questions }) => {\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [score, setScore] = useState(0);\r\n    const navigate = useNavigate()\r\n\r\n    const goToPrev = () => {\r\n        setCurrentIndex((prevIndex) => (prevIndex === 0 ? questions.length - 1 : prevIndex - 1));\r\n    };\r\n\r\n    const goToNext = () => {\r\n        if (currentIndex === questions.length - 1) {\r\n            navigate(\"/final\"); // Redirect to final score page\r\n        } else {\r\n            setCurrentIndex((prevIndex) => prevIndex + 1);\r\n        }\r\n    };\r\n\r\n    const handleOptionClick = (optionIndex) => {\r\n        const selectedOption = questions[currentIndex].options[optionIndex];\r\n        let optionScore = 0;\r\n\r\n        // Calculate score based on the selected option\r\n        if (selectedOption.type === 'yesno') {\r\n            optionScore = selectedOption.text === 'Yes' ? 2 : 0;\r\n        } else if (selectedOption.type === 'radio') {\r\n            const value = parseInt(selectedOption.text);\r\n            optionScore = value >= 0 && value <= 3 ? 1 : 2;\r\n        }\r\n\r\n        setScore((prevScore) => prevScore + optionScore);\r\n\r\n        // Proceed to the next question\r\n        document.cookie = `score=${score}`\r\n        goToNext();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (currentIndex === questions.length ) {\r\n            navigate(\"/final\");\r\n        }\r\n    }, [currentIndex, questions.length]);\r\n\r\n    return (\r\n        <div className=\"carousel\">\r\n            <button className=\"prev\" onClick={goToPrev}>&lt;</button>\r\n            <div className=\"question-container\">\r\n                <div className=\"question\" >\r\n                    {questions[currentIndex].questionText}\r\n                </div>\r\n                <div className=\"options\">\r\n                    {questions[currentIndex].options.map((option, index) => (\r\n                        <div key={index} className=\"option\">\r\n                            <input\r\n                                type=\"radio\"\r\n                                id={`option_${index}`}\r\n                                name={`question_${currentIndex}`}\r\n                                value={option.text}\r\n                                onClick={() => handleOptionClick(index)}\r\n                            />\r\n                            <label htmlFor={`option_${index}`}>{option.text}</label>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <button className=\"next\" onClick={goToNext}>&gt;</button>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Carousel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}